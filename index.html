<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Department Of Justice</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
        :root{
            --bg:#0b0f14;
            --panel:#111823;
            --soft:#16202d;
            --ink:#eaf2ff;
            --muted:#b7c3d9;
            --accent:#6aa7ff;
            --accent-2:#8be9fd;
            --danger:#ff5d5d;
            --ok:#35d07f;
        }
        *{box-sizing:border-box}
        html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;background:radial-gradient(1200px 600px at 80% -10%, #0f1725 0%, var(--bg) 60%) fixed;color:var(--ink);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
        .wrap{max-width:980px;margin:28px auto;padding:22px}
        header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:18px}
        h1{font-size:clamp(20px,3.6vw,28px);margin:0}
        .subtitle{color:var(--muted);font-size:13px}
        .card{background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)), var(--panel); border:1px solid rgba(255,255,255,.04); border-radius:16px; padding:18px; box-shadow:0 14px 40px rgba(0,0,0,.45);}
        .actions{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
        button{appearance:none;border:0;padding:12px 16px;border-radius:12px;font-weight:800;cursor:pointer;letter-spacing:.2px}
        .btn-primary{background:linear-gradient(180deg,var(--accent),#3556c7);color:white;box-shadow:0 8px 24px rgba(59,99,190,.18)}
        .btn-danger{background:linear-gradient(180deg,var(--danger),#cc3f3f);color:white}
        .btn-share{background:linear-gradient(180deg,var(--accent-2),#33c7ff);color:white}
        input[type="text"]{width:100%;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.06);background:var(--soft);color:var(--ink);outline:none} 
        input[type="text"]:focus{box-shadow:0 0 0 4px rgba(106,167,255,.14)}
        .center{display:flex;align-items:center;justify-content:center}
        .overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(3,6,10,.76);z-index:9999}
        .overlay.show{display:flex}
        @media(max-width:880px){
            .wrap{padding:16px}
        }
    </style>
</head>
<body>
    <div class="wrap">
        <header>
            <div>
                <h1>Archives du Department Of Justice</h1>
                <p class="subtitle">Accédez aux documents officiels</p>
            </div>
            <input type="text" id="search" placeholder="Rechercher un document...">
        </header>
        <main id="categories"></main>
    </div>

    <div class="overlay" id="pdf-viewer">
        <div class="card" style="width:90%;max-width:900px;height:80vh;display:flex;flex-direction:column;">
            <div style="display:flex;justify-content:space-between;align-items:center;padding-bottom:12px;border-bottom:1px solid rgba(255,255,255,.1);">
                <h2 id="pdf-title">Document PDF</h2>
                <button onclick="closePDF()" class="btn-danger">&times;</button>
            </div>
            <iframe id="pdf-frame" style="flex:1;width:100%;border:none;margin-top:12px;"></iframe>
            <div style="margin-top:12px; display:flex; gap:8px; justify-content:flex-end;">
                <button class="btn-share" onclick="sharePDF()"><i class="fas fa-share"></i> Partager</button>
            </div>
        </div>
    </div>

    <script>
        const documentsData = [
            { title: 'RAPPORT INTERVENTION DPO_19082025_1', date: '19/08/2025', pdfUrl: 'Rapport190820251.pdf', tag: "RAPPORTS D'INTERVENTION" },
            { title: 'AUDIENCE CAS X', date: '20/08/2025', pdfUrl: 'AudienceX.pdf', tag: 'AUDIENCES' },
            { title: 'RAPPORT AUDIENCE DPO_21082025', date: '21/08/2025', pdfUrl: 'RapportAudience21082025.pdf', tag: "RAPPORTS D'AUDIENCES" },
            { title: 'DECRET N°123', date: '22/08/2025', pdfUrl: 'Decret123.pdf', tag: 'DECRETS' }
        ];

        const categoriesContainer = document.getElementById('categories');
        const pdfViewer = document.getElementById('pdf-viewer');
        const pdfFrame = document.getElementById('pdf-frame');
        const pdfTitle = document.getElementById('pdf-title');

        function openPDF(url, title){
            pdfFrame.src=url;
            pdfTitle.textContent=title;
            pdfViewer.classList.add('show');
        }

        function closePDF(){
            pdfFrame.src='';
            pdfViewer.classList.remove('show');
        }

        function sharePDF(){
            if(navigator.share){
                navigator.share({
                    title: pdfTitle.textContent,
                    url: pdfFrame.src
                }).catch(console.error);
            } else {
                alert('Partage non supporté sur ce navigateur');
            }
        }

        function renderCategories(docs){
            const categories = ['TOUS', ...new Set(docs.map(d=>d.tag))];
            categoriesContainer.innerHTML='';

            categories.forEach(tag=>{
                const section = document.createElement('section');
                const heading = document.createElement('h3');
                heading.textContent=tag;
                heading.style.margin='12px 0';
                section.appendChild(heading);

                const container = document.createElement('div');
                container.style.display='flex';
                container.style.overflowX='auto';
                container.style.gap='12px';

                const filteredDocs = tag==='TOUS' ? docs : docs.filter(d=>d.tag===tag);

                filteredDocs.forEach(doc=>{
                    const card = document.createElement('div');
                    card.className='card';
                    card.style.minWidth='220px';
                    card.innerHTML=`
                        <h4 style="margin:0 0 6px 0;font-weight:700">${doc.title}</h4>
                        <p style="font-size:13px;color:var(--muted)">Date: ${doc.date}</p>
                        <div class="actions">
                            <button class="btn-primary" onclick="openPDF('${doc.pdfUrl}','${doc.title}')"><i class="fas fa-file-pdf"></i> Voir PDF</button>
                        </div>
                    `;
                    container.appendChild(card);
                });

                section.appendChild(container);
                categoriesContainer.appendChild(section);
            });
        }

        document.getElementById('search').addEventListener('input',e=>{
            const term=e.target.value.toLowerCase();
            const filtered=documentsData.filter(d=>d.title.toLowerCase().includes(term)||d.tag.toLowerCase().includes(term));
            renderCategories(filtered);
        });

        renderCategories(documentsData);
    </script>
</body>
</html>

